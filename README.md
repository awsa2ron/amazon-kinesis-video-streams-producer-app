Amazon-kinesis-video-streams-producer-app README.md

Amazon Kinesis Video Streams Producer Application makes it an easy-to-use portable Linux application that securely connects to a video stream, and reliably publishes video and other media data to Kinesis Video Streams.

It takes care of all the underlying tasks required to package the frames and fragments generated by the device's media pipeline. The application also handles stream creation, token rotation for secure and uninterrupted streaming, processing acknowledgements returned by Kinesis Video Streams, and other tasks.

It also fine tuned for resource limited embedded device, like consumer IP camera. Setting inside video buffer to the minimum size and cut off extra flash usage.

Download

To download  find the latest release version for your SoC architecture. By default we build all the libraries statically, so should require nothing to be installed ahead of time.

Usage

Download  the latest release, compile and execute it.

# git clone <somewhere>
cd amazon-kinesis-video-streams-producer-app
mkdir build
cd build
# export CC if cross compile
cmake .. -DBUILD_STATIC=TRUE -DUSE_OPENSSL=FALSE -DUSE_MBEDTLS=TRUE
make
./KinesisVideoProducerApp <kvs-channel-name> 600 <sample-path> 

If you do wish to change existing application you can use the following control interface to customize it

Perfermance

ROM

about 1.2MB on ARM 32-bit architecture

RAM

TBD, target is less than 3MB.

Background: original amazon kinesis video stream producer C video/audio sample consume more than 4MB ROM and 18MB RAM, even if minimize video buffer size.

Development

The repository is using master branch as the aggregation and all of the feature development is done in appropriate feature branches. The PRs (Pull Requests) are cut on a feature branch and once approved with all the checks passed they can be merged by a click of a button on the PR tool. The master branch should always be build-able and all the tests should be passing. We are welcoming any contribution to the code base.

Release

The repository is under active development and even with incremental unit test coverage where some of the tests are actually full integration tests, we require more rigorous internal testing in order to 'cut' release versions. The release is cut against a particular commit that gets approved. The general philosophy is to cut a release when a set of commits contribute to a self-containing feature or when we add major internal functionality improvements.

Versioning

We deploy 3 digit version strings in a form of 'Major.Minor.Revision' scheme. * Major version update - Major functionality changes. Might not have direct backward compatibility. For example, multiple public API parameter changes. * Minor version update - Additional features. Major bug fixes. Might have some minor backward compatibility issues. For example, an extra parameter on a callback function. * Revision version update - Minor features. Bug fixes. Full backward compatibility. For example, an extra fields added to the public structures with version bump.

Documentation

Related

License

This solution is licensed under the MIT License. See the LICENSE file.